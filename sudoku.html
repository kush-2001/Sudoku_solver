<html>
<head>
  <title>Sudoku Solver</title>
  
<!--   <link rel="icon" type="icon" href="data:image/png;base64,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"> -->
  
  <script type="text/javascript" src="sudoku.js"></script>
  <script type="text/javascript" src="analytics.js"></script>
  <style type="text/css">

    body { font-family: Calibri, sans-serif; }
    #container { text-align: center }
    table { border-collapse: collapse; font-size: 2em; margin: 0 auto; }
    colgroup, tbody { border: solid medium; }
    td { border: solid thin; height: 1.4em; width: 1.4em; text-align: center; padding: 0; }
    button { margin-top: 15px; font-size: 1.5em; }
    
    padd{padding-bottom: 100px;}
    ]
  </style>
</head>
<body>
  
    
  <div id="container">
    
    <h1 class = "padd">Sudoku Solver</h1>

    <table id="sudoku-board">
      
      
      <colgroup><col><col><col>
      <colgroup><col><col><col>
      <colgroup><col><col><col>
      <tbody>
       <tr> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td>
       <tr> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td>     
       <tr> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td>
      <tbody>
       <tr> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td>
       <tr> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td>     
       <tr> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td>
      <tbody>
       <tr> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td>
       <tr> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td>     
       <tr> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td> <td contenteditable="true"></td>
    </table>
    <div>
      <button id="solve-button">Solve!</button>
    </div>
    <div>
      <button id="clear-button">Clear board</button>
    </div>
  </div>
</body>

<script type="text/javascript">
  document.getElementById("sudoku-board").addEventListener("keyup", function(event) {
    if(event.target && event.target.nodeName == "TD") {
      var validNum = /[1-9]/;
      var tdEl = event.target;
      if (tdEl.innerText.length > 0 && validNum.test(tdEl.innerText[0])) {
        tdEl.innerText = tdEl.innerText[0];
      } else {
        tdEl.innerText = "";
      }
    }
  });

  document.getElementById("solve-button").addEventListener("click", function(event) {
    var boardString = boardToString();
    var solution = SudokuSolver.solve(boardString);
    if (solution) {
      stringToBoard(solution);
    } else {
      alert("Invalid board!");
    }
  })

  document.getElementById("clear-button").addEventListener("click", clearBoard);

  function clearBoard() {
    var tds = document.getElementsByTagName("td");
    for (var i = 0; i < tds.length; i++) {
      tds[i].innerText = "";
    }
  }

  function boardToString() {
    var string = "";
    var validNum = /[1-9]/;
    var tds = document.getElementsByTagName("td");
    for (var i = 0; i < tds.length; i++) {
      if (validNum.test(tds[i].innerText[0])) {
        string += tds[i].innerText;
      } else {
        string += "-";
      }
    }
    return string;
  }

  function stringToBoard(string) {
    var currentCell;
    var validNum = /[1-9]/;
    var cells = string.split("");
    var tds = document.getElementsByTagName("td");
    for (var i = 0; i < tds.length; i++) {
      currentCell = cells.shift();
      if (validNum.test(currentCell)) {
        tds[i].innerText = currentCell;
      }
    }
  }
</script>
</html>
